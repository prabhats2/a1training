<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="author" content="Template Mo">
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900" rel="stylesheet">
    <!-- Keep only one Bootstrap version -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="assets/json/blog.json"></script>
    <script type="text/javascript" src="meta.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    
    <!-- Additional CSS Files -->
    <link rel="stylesheet" href="assets/css/fontawesome.css">
    <link rel="stylesheet" href="assets/css/templatemo-edu-meeting.css">
    <link rel="stylesheet" href="assets/css/owl.css">
    <link rel="stylesheet" href="assets/css/lightbox.css">
    <style>
        /* Section Styles */
        #blog {
            padding: 2rem 0;
            background-image: url(assets/images/meetings-bg.jpg);
        }
    
        /* Header Styles */
        #blog h2 {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
        }
    
        /* Card Styles */
        .card {
            transition: transform 0.3s;
            border-radius: 1.0rem;
            overflow: hidden; /* Ensure no overflow from cards */
        }
    
        .card:hover {
            transform: scale(1.05);
        }
    
        /* Featured Post Styles */
        #blog .mb-4 img {
            border-radius: 1rem;
            padding: 3px;
        }
    
        #sidebar {
            position: sticky;
            top: 80px;
            margin-left: 120px;
            width: 300px;
            height: calc(100vh - 160px);
            overflow-y: auto;
            background-color: white;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            z-index: 1;
            border-radius: 0.9rem;
        }
    
        /* Sidebar Styles */
        .sidebar h4 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }
    
        .sidebar .list-group-item {
            background-color: #ffffff;
            border: 0px solid #ddd;
            border-radius: 0.9rem;
            transition: background-color 0.3s;
        }
    
        .sidebar .list-group-item:hover {
            background-color: #e9ecef;
        }
    
        /* Responsive Styles */
        @media (max-width: 768px) {
            #blog h2 {
                font-size: 2rem;
            }
    
            .card {
                margin-bottom: 1.5rem;
            }
        }
    
        /* Animation Styles */
        .fade-in {
            animation: fadeIn 0.5s forwards;
        }
    
        .fade-out {
            animation: fadeOut 0.5s forwards;
        }
    
        @keyframes fadeIn {
            from {
                transform: scale(0.8);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }
    
        @keyframes fadeOut {
            from {
                transform: scale(1);
                opacity: 1;
            }
            to {
                transform: scale(0.8);
                opacity: 0;
            }
        }
    
        .fade-out {
            opacity: 0;
            transition: opacity 0.5s ease; /* Smooth transition */
        }
    
        #sidebar {
            transition: opacity 0.5s ease; /* Smooth transition for visibility */
        }
    
        .post {
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 10px;
            margin: 10px 0; /* Adjust margin to minimize space */
            cursor: pointer;
        }
    
        .post-image {
            width: 100%;
            border-radius: 5px;
        }
    
        .post-title {
            margin: 10px 0;
        }
    
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            display: none;
            z-index: 9999; /* Ensure overlay is on top */
        }
    
        .overlay-content {
            background-color: #fff;
            padding: 20px;
            border-radius: 5px;
            width: 80%;
            max-height: 90%;
            
            position: relative;
            margin: 0 auto; /* Center overlay content */
            top: 50%; /* Move down */
            transform: translateY(-50%); /* Adjust to center vertically */
        }
    
        .close {
            cursor: pointer;
            float: right;
            font-size: 20px;
        }
    
        /* Hide overflow to manage line limits */
        .description {
            display: -webkit-box;
            -webkit-box-orient: vertical;
            overflow: hidden;
            -webkit-line-clamp: 5; /* Limit to 5 lines */
            transition: max-height 0.5s ease;
            max-height: 8em; /* Control height for 5 lines */
        }
    
        .description.expanded {
            -webkit-line-clamp: unset; /* Remove line limit */
            max-height: unset; /* Allow full height */
        }
    
        /* Adjust the layout without Flexbox */
        .overlay-content .row {
            margin: 0; /* Reset margin */
        }
    
        .overlay-content .col-lg-8,
        .overlay-content .col-lg-4 {
            float: left; /* Use float for layout */
        }
    
        .overlay-content .col-lg-8 {
            width: 66.6666%; /* Left content column takes 66% */
        }
    
        .overlay-content .col-lg-4 {
            width: 33.3333%; /* Right images column takes 33% */
            height: auto; /* Set fixed height for the scrollable area */
          
        }
    
        @media (max-width: 768px) {
            .overlay-content .col-lg-4,
            .overlay-content .col-lg-8 {
                width: 100%; /* Full width in mobile */
                float: none; /* Clear float */
            }
        }
    
        .image-scroll {
            height: auto;
        }
    
        .image-scroll img {
            width: 100%;
            margin-bottom: 10px; /* Space between images */
            border-radius: 5px;
        }
        .related-posts {
    max-height: 550px; /* Set a max height for scrolling */
    overflow-y: auto; /* Enable scrolling */
}

.related-posts .post {
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 10px;
    margin-bottom: 10px;
    cursor: pointer;
}

.related-posts .post img {
    width: 100%;
    border-radius: 5px;
}

    </style>
    
</head>
<!-- MENU START -->
<script type="text/javascript" src="menu.js"></script>
<!-- MENU END -->
<body>
    <section id="blog" class="py-5">
        <div class="container">
            <h2 class="text-center mb-4">Blog</h2>

        <!-- Button to toggle the sidebar dropdown at the top -->
        <button class="btn btn-primary d-lg-none mb-4 w-100" class="btn btn-primary btn-block"   type="button" data-bs-toggle="collapse" data-bs-target="#sidebarDropdown" aria-expanded="false" aria-controls="sidebarDropdown" >
           Categories
        </button>

        <!-- Sidebar dropdown for mobile view -->
        <div class="collapse d-lg-none mb-4 w-100 " id="sidebarDropdown">
            <div class="card">
                <div class="card-body">
                    <h4>Categories</h4>
                    <ul class="list-group mb-4">
                        <li class="list-group-item" data-category="all"><a href="#" class="category-link">All</a></li>
                        <li class="list-group-item" data-category="programming"><a href="#" class="category-link">Programming</a></li>
                        <li class="list-group-item" data-category="designing"><a href="#" class="category-link">Designing</a></li>
                        <li class="list-group-item" data-category="web-development"><a href="#" class="category-link">Web Development</a></li>
                    </ul>

                    <h4>Recent Posts</h4>
                    <ul class="list-group">
                        <li class="list-group-item"><a href="#">Python Programming</a></li>
                        <li class="list-group-item"><a href="#">Recent Post 2</a></li>
                    </ul>
                </div>
            </div>
        </div>
        
            <div class="row">
                <div class="col-lg-8">

                    <div class="row" id="blogPosts">
                        <script>
                            // Change the column class for the first blog post to col-lg-12
                            document.write(`
                              <div id="blogCarousel" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">
        <!-- Blog Post Item 1 -->
        <div class="carousel-item active">
            <div class="row">
                <div class="col-lg-12 mb-4" data-category="${blog.col1[0].category}">
                    <div class="card">
                        <img src="assets/images/junior-geeks/${blog.col1[0].image}" class="card-img-top" alt="Blog Post 1">
                        <div class="card-body">
                            
                            <h5 class="card-title">${blog.col1[0].title}</h5>
                            <p class="card-text">${blog.col1[0].description}</p>
                            <a href="blog-post1.html" class="btn btn-primary">More</a>
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Blog Post Item 2 -->
        <div class="carousel-item">
            <div class="row">
                <div class="col-lg-12 mb-4" data-category="${blog.col1[1].category}">
                    <div class="card">
                        <img src="assets/images/junior-geeks/${blog.col1[1].image}" class="card-img-top" alt="Blog Post 2">
                        <div class="card-body">
                            
                            <h5 class="card-title">${blog.col1[1].title}</h5>
                            <p class="card-text">${blog.col1[1].description}</p>
                            
                            <a href="blog-post2.html" class="btn btn-primary">More</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Blog Post Item 3 -->
        <div class="carousel-item">
            <div class="row">
                <div class="col-lg-12 mb-4" data-category="${blog.col1[2].category}">
                    <div class="card">
                        <img src="assets/images/junior-geeks/${blog.col1[2].image}" class="card-img-top" alt="Blog Post 3">
                        <div class="card-body">
                            <h5 class="card-title">${blog.col1[2].title}</h5>
                            <p class="card-text">${blog.col1[2].description}</p>
                            <a href="blog-post3.html" class="btn btn-primary">More</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Blog Post Item 4 -->
        <div class="carousel-item">
            <div class="row">
                <div class="col-lg-12 mb-4" data-category="${blog.col1[3].category}">
                    <div class="card">
                        <img src="assets/images/junior-geeks/${blog.col1[3].image}" class="card-img-top" alt="Blog Post 4">
                        <div class="card-body">
                            <h5 class="card-title">${blog.col1[3].title}</h5>
                            <p class="card-text">${blog.col1[3].description}</p>
                            <a href="blog-post4.html" class="btn btn-primary">More</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Blog Post Item 5 -->
        <div class="carousel-item">
            <div class="row">
                <div class="col-lg-12 mb-4" data-category="${blog.col1[4].category}">
                    <div class="card">
                        <img src="assets/images/junior-geeks/${blog.col1[4].image}" class="card-img-top" alt="Blog Post 5">
                        <div class="card-body">
                            <h5 class="card-title">${blog.col1[4].title}</h5>
                            <p class="card-text">${blog.col1[4].description}</p>
                            <a href="blog-post5.html" class="btn btn-primary">More</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Carousel Controls -->
    <button class="carousel-control-prev" type="button" data-bs-target="#blogCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#blogCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>

                          `);

          // Iterate over the remaining blog posts starting from the second one
for (let i = 1; i < blog.col1.length; i++) {
    const moreTextId = `moreText${i}`;
    const readMoreBtnId = `readMoreBtn${i}`;

    document.write(`
      <div class="col-md-6 mb-4" data-category="${blog.col1[i].category}">
          <div class="card">
              <img src="assets/images/junior-geeks/${blog.col1[i].image}" class="card-img-top post-image" alt="Blog Post ${i + 1}" onclick="openOverlay('${blog.col1[i].title}', '${blog.col1[i].description1}', 'assets/images/junior-geeks/${blog.col1[i].image}')">
              <div class="card-body">    
                  <span class="input-group-text bg-white border-0 d-flex justify-content-between align-items-center" id="basic-addon1">
                      <div class="d-flex align-items-center">
                          <p class="bi bi-calendar" style="font-size: 1.5rex; color: #6c757d; margin: 0;"> ${blog.col1[i].date}</p>
                      </div>
                      <div class="d-flex align-items-center">
                          <p style="font-size: 1.5rex; color: #6c757d; margin: 0;">
                              <i class="bi bi-person" style="font-size: 2rex; color: #6c757d;"></i> A1TI
                          </p>
                      </div>
                  </span>
                  <h5 class="card-title">${blog.col1[i].title}</h5>
                  <p class="card-text">
                      ${blog.col1[i].description}
                      <span class="more" id="${moreTextId}" style="display:none;"> ${blog.col1[i].description1}.</span>
                      <span class="read-more" id="${readMoreBtnId}" onclick="toggleReadMore(event, '${moreTextId}', '${readMoreBtnId}')" style="color: #6c757d;">Read More...</span>
                  </p>
                  <a href="#" class="btn btn-primary" onclick="openOverlay('${blog.col1[i].title}', '${blog.col1[i].description1}', 'assets/images/junior-geeks/${blog.col1[i].image}')">More Info</a>
              </div>
          </div>
      </div>
    `);
}

// Overlay function
function openOverlay(title, description1, imageSrc) {
    // Set the content of the overlay
    document.getElementById('overlay-title').innerText = title;
    document.getElementById('overlay-description').innerText = description1; // Use description1 for overlay
    document.getElementById('overlay-image').src = imageSrc;

    // Populate related posts
    const relatedPostsContainer = document.getElementById('related-posts');
    relatedPostsContainer.innerHTML = ''; // Clear previous posts

    // Assuming blog.col1 contains all your posts
    for (let i = 0; i < blog.col1.length; i++) {
        if (blog.col1[i].title !== title) { // Avoid displaying the current post
            relatedPostsContainer.innerHTML += `
                <div class="post" onclick="openOverlay('${blog.col1[i].title}', '${blog.col1[i].description1}', 'assets/images/junior-geeks/${blog.col1[i].image}')">
                    <img src="assets/images/junior-geeks/${blog.col1[i].image}" alt="${blog.col1[i].title}" class="post-image">
                    <h5 class="post-title">${blog.col1[i].title}</h5>
                </div>
            `;
        }
    }

    // Show the overlay
    document.getElementById('overlay').style.display = 'block';
}
function closeOverlay(event) {
    // Prevent the close button click from bubbling to the overlay
    if (event.target === document.getElementById('overlay') || event.target.classList.contains('close')) {
        document.getElementById('overlay').style.display = 'none'; // Hide the overlay
    }
}
                        </script>
                    </div>
                </div>
        
        <!-- Sidebar for larger screens -->
        <div class="col-lg-4 d-none d-lg-block" id="sidebar">
            <div class="mb-4">
                <h4>Categories</h4>
                <ul class="list-group">
                    <li class="list-group-item" data-category="all"><a href="#" class="category-link">All</a></li>
                    <li class="list-group-item" data-category="programming"><a href="#" class="category-link">Programming</a></li>
                    <li class="list-group-item" data-category="designing"><a href="#" class="category-link">Designing</a></li>
                    <li class="list-group-item" data-category="web-development"><a href="#" class="category-link">Web Development</a></li>
                </ul>
            </div>

            <div class="mb-4">
                <h4>Recent Posts</h4>
                <ul class="list-group">
                    <li class="list-group-item"><a href="#">Recent Post 1</a></li>
                    <li class="list-group-item"><a href="#">Recent Post 2</a></li>
                </ul>
            </div>
        </div>

            </div>
        </div>
    </section>
    <div id="overlay" class="overlay" onclick="closeOverlay(event)">
        <div class="overlay-content" onclick="event.stopPropagation();">
            <span class="close" onclick="closeOverlay(event)">&times;</span>
            <div class="row">
                <div class="col-lg-8">
                    <h2 id="overlay-title"></h2>
                    <img id="overlay-image" src="" alt="Overlay Image" class="image-scroll">
                    <p id="overlay-description"></p>
                </div>
                <div class="col-lg-4">
                    <h4>Related Posts</h4>
                    <div id="related-posts" class="related-posts"></div>
                    
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let currentOpenMoreTextId = null;
let currentOpenReadMoreBtnId = null;

function toggleReadMore(event, moreTextId, readMoreBtnId) {
    event.stopPropagation();
    const moreText = document.getElementById(moreTextId);
    const readMoreBtn = document.getElementById(readMoreBtnId);

    // Close any open section if it's not the one being clicked
    if (currentOpenMoreTextId && currentOpenMoreTextId !== moreTextId) {
        document.getElementById(currentOpenMoreTextId).style.display = "none";
        document.getElementById(currentOpenReadMoreBtnId).textContent = "Read More...";
    }

    // Toggle the clicked section
    if (moreText.style.display === "none" || moreText.style.display === "") {
        moreText.style.display = "inline";
        readMoreBtn.textContent = "Read Less...";

        currentOpenMoreTextId = moreTextId;
        currentOpenReadMoreBtnId = readMoreBtnId;
    } else {
        moreText.style.display = "none";
        readMoreBtn.textContent = "Read More";

        currentOpenMoreTextId = null;
        currentOpenReadMoreBtnId = null;
    }
}
    </script>
    <!--------FOOTER STARTS-------->
    <script type="text/javascript" src="footer.js"></script>
    <!--------FOOTER ENDS-------->S
</body>

</html>
<script>
    // Function to filter blog posts
    function filterPosts(selectedCategory) {
        var blogPosts = document.querySelectorAll('#blogPosts .col-md-6');

        blogPosts.forEach(function (post) {
            if (selectedCategory === 'all' || post.getAttribute('data-category') === selectedCategory) {
                post.style.display = 'block'; // Show post
            } else {
                post.style.display = 'none'; // Hide post
            }
        });
    }

    // Add event listeners to category links
    document.querySelectorAll('.category-link').forEach(function (link) {
        link.addEventListener('click', function (e) {
            e.preventDefault(); // Prevent default link behavior
            var selectedCategory = this.parentElement.getAttribute('data-category'); // Get category from parent li
            filterPosts(selectedCategory); // Call the filter function
        });
    });

    window.addEventListener('scroll', function () {
        const sidebar = document.getElementById('sidebar');
        const footer = document.querySelector('footer'); // Assuming there's a footer element
        const sidebarHeight = sidebar.offsetHeight;
        const footerPosition = footer.getBoundingClientRect().top;

        // Check if the sidebar is below the footer
        if (footerPosition < sidebarHeight) {
            sidebar.style.position = 'absolute'; // Revert to absolute position
            sidebar.style.top = (footerPosition - sidebarHeight) + 'px'; // Position it above the footer
        } else {
            sidebar.style.position = 'fixed'; // Fix position
            sidebar.style.top = '20px'; // Keep it at the top
        }
    });
    // Function to filter blog posts with smooth popup/pop-out animation
    function filterPosts(selectedCategory) {
        const blogPosts = document.querySelectorAll('#blogPosts .col-md-6');

        blogPosts.forEach(post => {
            const postCategory = post.getAttribute('data-category');

            if (selectedCategory === 'all' || postCategory === selectedCategory) {
                if (post.style.display === 'none') {
                    post.style.display = 'block';
                    // Trigger reflow to restart the animation
                    void post.offsetWidth;
                    post.classList.remove('fade-out');
                    post.classList.add('fade-in');
                }
            } else {
                if (post.style.display !== 'none') {
                    post.classList.remove('fade-in');
                    post.classList.add('fade-out');
                    post.addEventListener('animationend', function handleAnimation() {
                        post.style.display = 'none';
                        post.classList.remove('fade-out');
                        post.removeEventListener('animationend', handleAnimation);
                    });
                }
            }
        });
    }
    
        // JavaScript to handle filtering of posts
        document.querySelectorAll('.category-link').forEach(link => {
            link.addEventListener('click', function (e) {
                e.preventDefault();
                const category = this.parentElement.getAttribute('data-category');

                // Show or hide posts based on selected category
                document.querySelectorAll('.post').forEach(post => {
                    if (category === 'all' || post.getAttribute('data-category') === category) {
                        post.style.display = 'block'; // Show post
                    } else {
                        post.style.display = 'none'; // Hide post
                    }
                });
            });
        });
    
    // Function to update the carousel with filtered posts
    function updateCarousel(filteredPosts) {
        const carouselInner = document.querySelector('.carousel-inner');
        carouselInner.innerHTML = ''; // Clear existing carousel items

        // If no posts match the filter, display a message
        if (filteredPosts.length === 0) {
            carouselInner.innerHTML = '<div class="carousel-item active"><div class="row"><div class="col-12"><h5>No posts available in this category.</h5></div></div></div>';
            return;
        }

        // Add filtered posts to the carousel
        filteredPosts.forEach((post, index) => {
            const activeClass = index === 0 ? 'active' : '';
            carouselInner.innerHTML += `
                <div class="carousel-item ${activeClass}">
                    <div class="row">
                        <div class="col-lg-12 mb-4" data-category="${post.category}">
                            <div class="card">
                                <img src="assets/images/junior-geeks/${post.image}" class="card-img-top" alt="${post.title}">
                                <div class="card-body">
                                    <h5 class="card-title">${post.title}</h5>
                                    <p class="card-text">${post.description}</p>
                                    <a href="blog-post${index + 1}.html" class="btn btn-primary">More</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        });
    }

    // Function to filter blog posts
    function filterPosts(selectedCategory) {
        var blogPosts = document.querySelectorAll('#blogPosts .col-md-6');
        const filteredPosts = []; // Store filtered posts

        blogPosts.forEach(function (post) {
            const postCategory = post.getAttribute('data-category');
            if (selectedCategory === 'all' || postCategory === selectedCategory) {
                post.style.display = 'block'; // Show post
                filteredPosts.push({
                    title: post.querySelector('.card-title').innerText,
                    description: post.querySelector('.card-text').innerText,
                    image: post.querySelector('.card-img-top').getAttribute('src').split('/').pop(), // Extract image name
                    category: postCategory
                });
            } else {
                post.style.display = 'none'; // Hide post
            }
        });

        // Update the carousel with filtered posts
        updateCarousel(filteredPosts);
    }

    // Add event listeners to category links
    document.querySelectorAll('.category-link').forEach(function (link) {
        link.addEventListener('click', function (e) {
            e.preventDefault(); // Prevent default link behavior
            var selectedCategory = this.parentElement.getAttribute('data-category'); // Get category from parent li
            filterPosts(selectedCategory); // Call the filter function
        });
    });
</script>
