<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <title>Interview Q & ANS</title>
    <style>
        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }

        .grid-item {
            border: 1px solid #ddd;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
        }

        .pdf-list {
            margin-top: 20px;
        }

        .pdf-category {
            margin-bottom: 15px;
        }

        .search-container {
            margin-bottom: 20px;
        }
    </style>
</head>

<body>
    <section class="heading-page header-text" id="top">
        <div class="container">
            <div class="col-lg-12" style="text-align:center;">
                <h6>Don't Learn Simply. Learn with Project</h6>
                <h2>Download Interview Q & ANS</h2>
                
                <!-- Updated Search Container -->
                <div class="search-container">
                    <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for Interview Q / Ans..." title="Type name..." class="search-input">
                    <span onclick="startVoiceSearch()" id="voiceIcon" class="voice-icon">
                        <i class="fa fa-microphone" id="micIcon"></i>
                    </span>
                </div>

                <ul id="myUL" style="list-style-type: none; padding: 0; margin-top: 20px;">
                    <li style="padding: 10px;">Course 1: MS Office</li>
                    <li style="padding: 10px;">Course 2: Linux</li>
                    <li style="padding: 10px;">Course 3: Docker</li>
                    <li style="padding: 10px;">Course 4: Kubernetes</li>
                    <li style="padding: 10px;">Course 5: Jenkins</li>
                    <li style="padding: 10px;">Course 6: Terraform</li>
                    <li style="padding: 10px;">Course 7: AWS</li>
                    <li style="padding: 10px;">Course 8: Azure</li>
                    <li style="padding: 10px;">Course 9: GCP</li>
                    <li style="padding: 10px;">Course 10: Python</li>
                    <li style="padding: 10px;">Course 11: Shell Scripting</li>
                    <li style="padding: 10px;">Course 12: Networking</li>
                    <li style="padding: 10px;">Course 13: MS DOS</li>
                    <li style="padding: 10px;">Course 14: HTML & CSS</li>
                    <li style="padding: 10px;">Course 15: C/C++</li>
                    <li style="padding: 10px;">Course 16: JavaScript</li>
                    <li style="padding: 10px;">Course 17: Java</li>
                    <li style="padding: 10px;">Course 18: SQL</li>
                    <li style="padding: 10px;">Course 19: React</li>
                    <li style="padding: 10px;">Course 20: Angular</li>
                    <li style="padding: 10px;">Course 21: Node.js</li>
                </ul>

                <script>
                    // Function to filter courses based on input
                    function myFunction() {
                        const input = document.getElementById('myInput');
                        const filter = input.value.replace(/[^a-zA-Z0-9\s]/g, '').toUpperCase();
                        const ul = document.getElementById("myUL");
                        const li = ul.getElementsByTagName('li');
                        let visibleCount = 0;

                        for (let i = 0; i < li.length; i++) {
                            const txtValue = li[i].textContent || li[i].innerText;
                            if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                li[i].style.display = "";
                                visibleCount++;
                            } else {
                                li[i].style.display = "none";
                            }
                        }

                        // Show message if no results are found
                        const noResultMessage = document.getElementById('noResultMessage');
                        if (visibleCount === 0) {
                            if (!noResultMessage) {
                                const message = document.createElement('p');
                                message.id = 'noResultMessage';
                                message.textContent = 'No results found';
                                ul.parentNode.appendChild(message);
                            }
                        } else {
                            if (noResultMessage) {
                                noResultMessage.remove();
                            }
                        }
                    }

                    // Function to start voice recognition with mic color change
                    function startVoiceSearch() {
                        const icon = document.getElementById('micIcon');
                        icon.style.color = 'red';

                        if ('webkitSpeechRecognition' in window) {
                            const recognition = new webkitSpeechRecognition();
                            recognition.lang = 'en-US';
                            recognition.interimResults = false;
                            recognition.maxAlternatives = 1;

                            recognition.start();

                            recognition.onresult = function (event) {
                                let transcript = event.results[0][0].transcript.trim().replace(/\.$/, '');
                                document.getElementById('myInput').value = transcript;
                                myFunction();
                            };

                            recognition.onerror = function () {
                                console.error('Speech recognition error');
                                icon.style.color = '#333';
                            };

                            recognition.onend = function () {
                                icon.style.color = '#333';
                            };
                        } else {
                            alert("Sorry, your browser doesn't support speech recognition.");
                            icon.style.color = '#333';
                        }
                    }
                </script>
            </div>
        </div>
    </section>

    <section class="meetings-page" id="meetings">
        <div class="container">
            <main class="col-lg-12">
                <h2 class="main-heading">Download Syllabus</h2>
                <div class="grid-container" id="syllabusGrid">
                    <!-- Syllabus items will be dynamically added here -->
                </div>
            </main>

            <script>
                // Function to fetch syllabus data from the JSON file
                async function fetchSyllabusData() {
                    try {
                        const response = await fetch('assets/json/interview-Q-Ans.json');
                        if (!response.ok) throw new Error('Network response was not ok');
                        const data = await response.json();
                        generateSyllabusGrid(data.syllabus);
                    } catch (error) {
                        console.error('There has been a problem with your fetch operation:', error);
                    }
                }

                // Function to generate the grid items
                function generateSyllabusGrid(syllabus) {
                    const gridContainer = document.getElementById('syllabusGrid');
                    syllabus.forEach(item => {
                        const gridItem = document.createElement('div');
                        gridItem.classList.add('grid-item', 'col-lg-3');
                        gridItem.innerHTML = `
                            <p>${item.title}</p>
                            <div class="img-box"><img src="${item.image}" alt="${item.title}"></div>
                            <button type="button" class="btn btn-primary btn-block" onclick="loadPDFs('${item.category}')">Download</button>
                        `;
                        gridContainer.appendChild(gridItem);
                    });
                }

                // Call the function to fetch data and populate the grid
                fetchSyllabusData();
            </script>

            <!-- Modal for PDF Links -->
            <div class="modal fade" id="pdfModal" tabindex="-1" aria-labelledby="pdfModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="pdfModalLabel">Available PDFs</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div id="pdfList"></div>
                        </div>
                    </div>
                </div>
            </div>

            <script>
                // JSON data for PDF downloads
                const pdfData = {
                    javascript: ['ms_office.pdf'],
                    kubernetes: ['ms_office.pdf'],
                    shell_scripting: ['ms_office.pdf'],
                    jenkins: ['ms_office.pdf'],
                    ms_office: ['ms_office.pdf'],
                    python: ['ms_office.pdf'],
                    data_science: ['ms_office.pdf'],
                    machine_learning: ['ms_office.pdf'],
                    web_development: ['ms_office.pdf'],
                };

                // Load PDFs based on the selected category
                function loadPDFs(category) {
                    const pdfListContainer = document.getElementById('pdfList');
                    pdfListContainer.innerHTML = ''; // Clear previous results

                    if (pdfData[category]) {
                        pdfData[category].forEach(pdf => {
                            const pdfLink = document.createElement('a');
                            pdfLink.href = `assets/pdf/${pdf}`;
                            pdfLink.target = '_blank';
                            pdfLink.innerText = pdf;
                            pdfListContainer.appendChild(pdfLink);
                            pdfListContainer.appendChild(document.createElement('br'));
                        });
                    } else {
                        pdfListContainer.innerHTML = '<p>No PDFs available for this category.</p>';
                    }

                    // Show modal
                    const pdfModal = new bootstrap.Modal(document.getElementById('pdfModal'));
                    pdfModal.show();
                }
            </script>
        </div>
    </section>

    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

</html>
