<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="author" content="Template Mo">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">

  <!-- Bootstrap and jQuery -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <script type="text/javascript" src="meta.js"></script>

  <!-- Custom Styling -->
  <style>
    .course-item {
      display: block;
      opacity: 1;
      transform: scale(1);
      transition: all 0.3s ease-in-out;
    }

    .courses {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
    }

    .course-item.hide {
      display: none;
      opacity: 0;
    }

    .n {
      overflow: scroll;
      height: 800px;
    }

    .m {
      margin-top: 100px;
      height: 900px;
    }

    .no-content-message {
      background-color: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
      padding: 10px;
      border-radius: 5px;
      text-align: center;
      margin-top: 20px;
      font-weight: bold;
    }

    .icon {
      font-size: none;
      color: red;
      animation: blink 1s infinite;
    }

    @keyframes blink {
      0% {
        opacity: 1;
      }

      50% {
        opacity: 0;
      }

      100% {
        opacity: 1;
      }
    }

    /* Responsive layout */
    @media (max-width: 768px) {
      .course-item {
        flex: 1 1 calc(50% - 20px);
      }
    }

    @media (max-width: 480px) {
      .course-item {
        flex: 1 1 100%;
      }
    }
  </style>
<script type="text/javascript" src="assets/json/junior_geeks.json"></script>
<script type="text/javascript" src="junior_geeks_coding.js"></script>
  <link rel="icon" type="image/x-icon" href="assets/images/favicon.ico">
  <link rel="stylesheet" href="assets/css/fontawesome.css">
  <link rel="stylesheet" href="assets/css/templatemo-edu-meeting.css">
  <link rel="stylesheet" href="assets/css/owl.css">
  <link rel="stylesheet" href="assets/css/lightbox.css">

</head>

<body>
  <!-- Menu -->
  <script type="text/javascript" src="menu.js"></script>

  <section class="heading-page header-text" id="top">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <h6>HERE ARE OUR POPULAR JUNIOR COURSE</h6>
          <h2>Junior Geeks Courses</h2>
          <div class="container my-4">
            <input type="text" id="searchBar" class="search-bar form-control" placeholder="Search Courses..." onkeyup="filterItems()">
            <div id="noContentMessage" class="no-content-message" style="display: none;">
              <p>No content found</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="meetings-page" id="meetings">
    <div class="container">
      <div class="col-lg-12">
        <div class="filters">
          <ul class="filters">
            <li class="active" data-filter="*">All Classes</li>
            <li data-filter=".class-5-8">Class 5-8</li>
            <li data-filter=".class-9-10">Class 9-10</li>
            <li data-filter=".class-11-12">Class 11-12</li>
          </ul>
        </div>

        <!-- Course Container -->
        <div class="container mt-5">
          <div class="row" id="courses-container">
            <!-- Courses will be dynamically added here -->
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <script type="text/javascript" src="footer.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const coursesContainer = document.getElementById('courses-container');

      // Fetch the courses data from junior_geeks.json
      fetch('assets/json/junior_geeks.json')
        .then(response => {
          if (!response.ok) {
            throw new Error('Network response was not ok');
          }
          return response.json();
        })
        .then(courses => {
          // Dynamically render courses
          courses.col1.forEach((course, i) => {
            const courseElement = document.createElement('div');
            const classNames = Array.isArray(course.class) ? course.class : [course.class];
            courseElement.classList.add('col-lg-4', 'templatemo-item-col', 'course-item', ...classNames);

            courseElement.innerHTML = `
              <div class="meeting-item">
                <div class="thumb">
                  <div class="price">
                    <span class="fa fa-cloud-download icon" data-bs-toggle="modal" data-bs-target="#syllabusModal${i}" style="font-size:23px;color:red"></span>
                  </div>
                  <img src="assets/images/junior-geeks/${course.image}">
                </div>
                <div class="down-content text-center">
                  <h4>${course.course_name}</h4>
                  <br>
                  <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#${courses.col1[i].title}" >
                            More Info
                          </button>
                 <div class="modal" id="myModal${i}">
                          <div class="modal-dialog">
                            <div class="modal-content">
                              <div class="modal-header">
                                <h4 class="modal-title">${courses1.col1[i].course_name}</h4>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                              </div>
                              <div class="modal-body">
                                 ${courses1.col1[i].course_name}
                                 ${courses1.col1[i].descriptionContent}
                                
                                
                              </div>
                              <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                              </div>
                            </div>
                          </div>
                        </div>
                  <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#contactModal" style="margin-right: 10px;">Contact Us</button>
                </div>
              </div>
            `;
            coursesContainer.appendChild(courseElement);

            const modalMarkup = `
              <div class="modal fade" id="syllabusModal${i}" tabindex="-1" aria-labelledby="syllabusModalLabel${i}" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h4 class="modal-title" id="syllabusModalLabel${i}">${course.title.replace(/_/g, ' ')}</h4>
                      <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                      <h2 align="left">Download Syllabus</h2>
                      <ul id="pdfList${i}" align="left"></ul>
                      <br>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                    </div>
                  </div>
                </div>
              </div>
            `;
            document.body.insertAdjacentHTML('beforeend', modalMarkup);

            const pdfList = document.getElementById(`pdfList${i}`);
            course.syllabus.forEach((syllabus, index) => {
              const listItem = document.createElement('li');
              const anchor = document.createElement('a');
              anchor.href = syllabus;
              anchor.textContent = `${course.syllabus_name[index]}`;
              anchor.target = "_blank";
              listItem.appendChild(anchor);
              pdfList.appendChild(listItem);
            });
          });

          // Add event listener for More Info buttons
          const moreInfoButtons = document.querySelectorAll('.more-info');
          moreInfoButtons.forEach(button => {
            button.addEventListener('click', function () {
              const title = this.getAttribute('data-title');
              const description = this.getAttribute('data-description');
              const features = this.getAttribute('data-features');

              // Set modal content
              document.getElementById('modal-title').textContent = title;
              document.getElementById('modal-description').textContent = description;
              document.getElementById('modal-features').textContent = features;
            });
          });
        })
        .catch(error => {
          console.error('There was a problem with the fetch operation:', error);
        });
    });

    // Filter logic
    $(document).ready(function () {
      $(".filters li").click(function () {
        var filterValue = $(this).attr('data-filter');
        $(".filters li").removeClass('active');
        $(this).addClass('active');
        $(".course-item").hide();
        if (filterValue === "*") {
          $(".course-item").show();
        } else {
          $(filterValue).show();
        }
      });
    });
  </script>

</body>
</html>
