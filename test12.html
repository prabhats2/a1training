<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Details</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- SweetAlert2 CSS (Optional for customization) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css"> 
</head>

<body>

    <!-- Content Section -->
    <!-- Course 1 -->
    <div class="col-md-6">
        <div class="well" style="background-color: #007bff; padding: 20px;">
            <h5 style="margin-top: 23px; color: white;">UI Project Training</h5>
            <p><span style="color:white;">HTML, HTML5, CSS, CSS3, JS (ES6, ES7), Bootstrap</span></p>
            <!-- Button to Trigger Modal -->
            <button type="button" class="btn btn-light" data-bs-toggle="modal" data-bs-target="#courseModal" data-course="UI Project Training">
                More Info
            </button>
        </div>
    </div>
     <!-- Course 1 -->
     <div class="col-md-6">
      <div class="well" style="background-color: #007bff; padding: 20px;">
          <h5 style="margin-top: 23px; color: white;">UI Project </h5>
          <p><span style="color:white;">HTML, HTML5, CSS, CSS3, JS (ES6, ES7), Bootstrap</span></p>
          <!-- Button to Trigger Modal -->
          <button type="button" class="btn btn-light" data-bs-toggle="modal" data-bs-target="#courseModal" data-course="UI Project Training">
              More Info
          </button>
      </div>
  </div>

    <!-- The Modal -->
    <div class="modal fade" id="courseModal" tabindex="-1" aria-labelledby="courseModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="courseModalLabel">Course Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- Form inside the Modal -->
                    <form method="post" name="contactform">
                        <!-- Course NAME -->
                        <div class="mb-3">
                            <label for="courseName" class="form-label">Course Name</label>
                            <input type="text" class="form-control" id="courseName" name="courseName" readonly>
                        </div>
                        <!-- NAME -->
                        <div class="mb-3">
                            <label for="Name" class="form-label">Name</label>
                            <input type="text" class="form-control" id="Name" name="Name">
                        </div>
                        <!-- E-mail -->
                        <div class="mb-3">
                            <label for="e-mail" class="form-label">e-mail</label>
                            <input type="email" class="form-control" id="e-mail" name="e-mail" required>
                        </div>
                        <!-- Mobile No -->
                        <div class="mb-3">
                            <label for="Mobile" class="form-label">Mobile</label>
                            <input type="number" class="form-control" id="Mobile" name="Mobile" required>
                        </div>
                        <!-- Message -->
                        <div class="mb-3">
                            <label for="message" class="form-label">Message</label>
                            <textarea class="form-control" id="message" name="message" rows="2" required></textarea>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">Send</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS with Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
    <!-- SweetAlert2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- JavaScript to Auto-Fill Course Name Dynamically -->
    <script>
        const courseModal = document.getElementById('courseModal');
        const courseNameInput = document.getElementById('courseName');

        courseModal.addEventListener('show.bs.modal', function (event) {
            const button = event.relatedTarget; // Button that triggered the modal
            const courseName = button.getAttribute('data-course'); // Extract course name from data attribute
            courseNameInput.value = courseName; // Set the course name in the input field
        });
    </script>

    <!-- Script to handle form submission with SweetAlert2 -->
    <script>
        const scriptURL = 'https://script.google.com/macros/s/AKfycbyzWpZIIAt4ZaXdOXZKWnFoj-REOq7PDbaGYqieIPxJDQhR6B9NLYj_SgSFFtVyGVjj/exec'
        const form = document.forms['contactform']
      
        form.addEventListener('submit', e => {
          e.preventDefault()
          fetch(scriptURL, { method: 'POST', body: new FormData(form)})
            .then(response => {
                Swal.fire({
                    title: "Thank you!",
                    text: "Your form is submitted successfully.",
                    icon: "success"
                }).then(() => {
                    window.location.reload(); // Reload after closing the alert
                });
            })
            .catch(error => {
                console.error('Error!', error.message);
                Swal.fire({
                    title: "Oops!",
                    text: "Something went wrong. Please try again later.",
                    icon: "error"
                });
            });
        })
    </script>

</body>
</html>
